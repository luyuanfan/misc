Flow - user equipment (phone + sim) → \[sends radio signal to] → base station/cell tower (gNB made by usrp + ghd as hardware driver + srsran) → access manager (mme or amf) → 

## Open5GS

I believe each `.yml` file in the root folder corresponds to each of these modules. 

Overview - is a software that builds the command center of a cellular network (i.e., all the virtual parts; the physical part is controlled by it but something else). it supports 4G/LTE and 5G networks. 


![[Pasted image 20250912111345.png]]

TUN/TAP (Kernel virtual network devices) - supported entire by software. TUN(nel) simulates a network layer device that carries IP packets.

- EPC (Evolved packet core) - handles the communication between RANs and mobile networks and etc. Powers 4G LTE networks.
- 5G core powers 5G networks of course.

MME (mobility management entity; 4G) & AMF (authentication management field; 5G) - does authentication and registration and track location, etc. It needs
- set `plmn` (public landline mobile network; is a comb of mcc and mnc) 
- set `tac` (track area code; changes when user move from an area to another)
- set `ip addr` (configure connection from base station to my laptop running the software)
	- but since both srsran and open5gs runs on the same laptop there's no need to config network here.

**APN** (access point name) & **DNN** (data network name) - APN in EPS (powers 3G) is the same as DNN in 5G. 
- APN is composed of two parts:
	- APN network id (*mandatory*) - defines to which external network the GGSN/PGW is connected and optionally a requested service by the MS. This part of the APN is mandatory.
	- APN operator id (*optional*) - defines in which PLMN GPRS/EPS backbone the GGSN/PGW is located
		- takes the format: `mnc<MNC>.mcc<MCC>.gprs` (e.g., `mnc012.mcc345.gprs`)
			- MCC (mobile country code)
				- e.g., see [3166 countries w/ regional code](https://github.com/lukes/ISO-3166-Countries-with-Regional-Codes/blob/master/all/all.csv) from ISO (international standardization organization)
				- test network: `001` or `999`
			- MNC (mobile network code) 
				- see this [list](https://www.mcc-mnc.com/)
				- test: `01` 

GPRS (General Packet Radio Services) - is 2.5G network. It's the first to move from circuit-switched data to packet-switched data. 
- GGSN (Gateway GPRS Support Node) supports it.

must match on phone and core?? (anyways what is core)

5G NSA (Non-standalone) 

https://www.cavliwireless.com/blog/nerdiest-of-things/what-is-apn

IMSI (International mobile subscriber identity) - is unique to each SIM card.

PLMN (public landline mobile network) - is a combination of wireless communication services offered by a specific operator in a specific country.

---

Notes: 

uhd building from source is also being weird. so rn we use the 4.9.0 release. **but i believe the 4.0.0 or 3.1.5. are the ones compatible with srsran** (rn with 4.9.0 there's an error when building srsran but it can be fixed by adding a line which is sketchy ig) -- so def switch back to that later if curr setup works. 

open5gs build from source is buggy. there is a open5gs vonr error that idk where it's from. trying with package (did not config logging, but that'll only affect journalctl prints ig so it's not a big deal; also webui is facing some troubles.)

because srsran_proj does not have a release, i have to remove ppa for that before running the open5gs web page. 

ref to the medium article 

adding subscriber rn. 

building a open5gs core rn. there're many config files in /etc/open5gs/ that can be referred to ig. 

---

## USRP and UHD

```
$ sudo apt-get install libuhd-dev uhd-host
```

---


Control plane - manages routing tables and many things.

TUN device - virtual network devices completely supported by software. Simulates network interface. 

HSS - generates SIM authentication and holds subscriber profiles
SGWC and PGWC - control plans

EPC - Evolved Packet Core

MCC and MNC - The Mobile Country Code (MCC) and Mobile Network Code (MNC) are **unique identifiers of countries and mobile networks across the world**

Execute all NFs with: (not sure what NF means at all)
```
./build/tests/app/5gc
```

---
# srsRAN

It supports building private customizable 5G networks. 

CU/DU in 5g - CU (Centralized Unit) supports upper level protocols while DU (Distributed Unit) supports lower layer ones.

Software-defined radio (SDR) - computer software emulates hardware functionalities that can do signal processing. 

Radio communication systems - radio waves are electromagnetic wave (freq. 3 Hz to 300 GHz) generated by transmitters and radiated by antennas.

![[Pasted image 20250909122220.png]]

Radio access network (RAN) - it's a mobile device network that connects to end-users. 
- Virtualized RAN (vRAN) - no longer requires proprietary hardware to run but instead runs on any general server.
- Open RAN (O-RAN) - Container-based and cloud-native implementation of vRAN.


![[Pasted image 20250912162229.png]]